import{k as v,n as g,l as V,j as h,m as k}from"../element-plus/element-plus.DXxe7Acq.js";import{_ as w,l as F}from"../../assets/index-DIF_1HvL.js";import{m as b}from"../js-md5/js-md5.DIAEDQd6.js";import{r as x,J as y,c as E,a as m,O as t,R as s,ar as I,o as B,V as d,ao as C,ap as N}from"../@vue/@vue.Cyfx47te.js";import{a as S}from"../axios/axios.Bo0ATomq.js";import"../lodash-es/lodash-es.BM2zjOfE.js";import"../async-validator/async-validator.DKvM95Vc.js";import"../@vueuse/@vueuse.CI58GgG-.js";import"../@element-plus/@element-plus.vzwj9fNK.js";import"../@ctrl/@ctrl.r5W6hzzQ.js";import"../@popperjs/@popperjs.D9SI2xQl.js";import"../normalize-wheel-es/normalize-wheel-es.B6fDCfyv.js";import"../vue-router/vue-router.CTtvUmZ9.js";import"../clipboard/clipboard.DnI0MzOy.js";const U=""+new URL("../../assets/blockchain-DEvTrI1V.jpg",import.meta.url).href,M=a=>(C("data-v-c1166f08"),a=a(),N(),a),L={class:"login-body"},j={class:"login-container"},q=I('<div class="head" data-v-c1166f08><img class="logo" src="'+U+'" data-v-c1166f08><div class="name" data-v-c1166f08><div class="title" data-v-c1166f08>区块链商城</div><div class="tips" data-v-c1166f08>BlockChainMall 后台管理系统</div></div></div>',1),R=M(()=>m("div",{style:{color:"#333"}},[d("登录表示您已同意"),m("a",null,"《服务条款》")],-1)),T={__name:"Login",setup(a){const n=x(null),e=y({ruleForm:{username:"",password:""},checked:!0,rules:{username:[{required:"true",message:"账户不能为空",trigger:"blur"}],password:[{required:"true",message:"密码不能为空",trigger:"blur"}]}}),c=async()=>{n.value.validate(i=>{if(i)S.post("/adminUser/login",{userName:e.ruleForm.username||"",passwordMd5:b(e.ruleForm.password)}).then(o=>{F("token",o),window.location.href="/"});else return console.log("error submit!!"),!1})};return(i,o)=>{const u=g,l=V,p=h,_=k,f=v;return B(),E("div",L,[m("div",j,[q,t(f,{"label-position":"top",rules:e.rules,model:e.ruleForm,ref_key:"loginForm",ref:n,class:"login-form"},{default:s(()=>[t(l,{label:"账号",prop:"username"},{default:s(()=>[t(u,{type:"text",modelValue:e.ruleForm.username,"onUpdate:modelValue":o[0]||(o[0]=r=>e.ruleForm.username=r),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(l,{label:"密码",prop:"password"},{default:s(()=>[t(u,{type:"password",modelValue:e.ruleForm.password,"onUpdate:modelValue":o[1]||(o[1]=r=>e.ruleForm.password=r),modelModifiers:{trim:!0},autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(l,null,{default:s(()=>[R,t(p,{style:{width:"100%"},type:"primary",onClick:c},{default:s(()=>[d("立即登录")]),_:1}),t(_,{modelValue:e.checked,"onUpdate:modelValue":o[2]||(o[2]=r=>e.checked=r),onChange:o[3]||(o[3]=r=>!e.checked)},{default:s(()=>[d("下次自动登录")]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["rules","model"])])])}}},Z=w(T,[["__scopeId","data-v-c1166f08"]]);export{Z as default};
